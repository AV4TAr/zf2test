<?phpnamespace Album\Model;use Zend\Db\TableGateway\TableGateway;class AlbumTable{    /**     *     * @var TableGateway     */    protected $tableGateway;    /**     * Aca es donde aparece la inyeccion de dependencia, ya que va a usar el gateway     * que le pasemos en la iniciacion. Vamos a necesitar inicializarla con el ServiceManager     * asi usamos siempre el el mismo gateway y no hay que pasarlo cada vez que     * vamos a crear un objeto.     * @param TableGateway $tableGateway                 */    public function __construct (TableGateway $tableGateway)    {        $this->tableGateway = $tableGateway;    }    /**     * Devuelvo todos los valores     *      * @return Ambigous <\Zend\Db\ResultSet\ResultSet, NULL, \Zend\Db\ResultSet\ResultSetInterface>     */    public function fetchAll ()    {        $resultSet = $this->tableGateway->select();        return $resultSet;    }    /**     *      * @param unknown $id     * @throws \Exception     * @return Ambigous <multitype:, ArrayObject, NULL, \ArrayObject, unknown>     */    public function getAlbum ($id)    {    	$id = (int) $id;    	$rowset = $this->tableGateway->select(array("id"=>$id));    	$row = $rowset->current();    	if(!$row){    	    throw new \Exception('Could not find row '.$id);    	}    	return $row;    }        /**     *      * @param Album $album     * @throws \Exception     */    public function saveAlbum(Album $album)    {        $data = array(            'artist' => $album->artist,            'title'  => $album->title,        );                $id = (int) $album->id;        if($id == 0){            $this->tableGateway->insert($data);        } else {            if($this->getAlbum($id)){                $this->tableGateway->update($data, array('id'=>$id));            } else {                throw new \Exception('Form id does not exist');            }        }    }        /**     *      * @param integer $id     * @return integer     */    public function deleteAlbum($id)    {        return $this->tableGateway->delete(array('id'=>$id));    }}